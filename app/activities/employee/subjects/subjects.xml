<Page class="page" actionBarHidden="true" loaded="pageLoaded">
    <ActionBar></ActionBar>

    <StackLayout>
        <StackLayout id="actionbar">
            <FlexboxLayout orientation="horizontal" alignItems="center">
                <Image tap="back" src="~/icons/arrow-left.png"/>
                <Label text="Przedmioty"/>
            </FlexboxLayout>
        </StackLayout>
        <StackLayout>                              
                <ListView items="{{ subjects }}"
                    separatorColor="silver" 
                    class="list-group" row="1" id="listView">
                    <ListView.itemTemplate >
                        <StackLayout class="list-group-item">
                            <DockLayout class="listHeader" orientation="horizontal" stretchLastChild="false" tap="changeIsOpen" index="{{ id }}">
                                <Image class="imgList" src="~/icons/arrow-down.png " visibility="{{ !isOpen ? 'visible' : 'collapse'}}"/>
                                <Image class="imgList" src="~/icons/arrow-up.png"  visibility="{{ isOpen ? 'visible' : 'collapse'}}"/>
                                <Label text="{{ title }}" textWrap="true" class="title"/>
                            </DockLayout>
                            <StackLayout visibility="{{ isOpen ? 'visible' : 'collapse'}}" >
                                <ListView items="{{ employees }}" separatorColor="silver" 
                                    row="2" height="{{ height }}" class="employeesList">
                                    
                                    <ListView.itemTemplate>
                                        <StackLayout class="list-group-item">
                                             <Label text="{{ name + ' '+ surname }}" textWrap="true" class="title"/>
                                        </StackLayout>

                                     </ListView.itemTemplate>
                                </ListView>
                                <Button tap="sign" class="signButton" index ="{{ id }}" text="Zapisz siÄ™" />
                            </StackLayout>
                        </StackLayout>
                    </ListView.itemTemplate>
                </ListView>
        </StackLayout>
    </StackLayout>
</Page> 