<Page class="page" actionBarHidden="true" loaded="pageLoaded">
    <ActionBar></ActionBar>

    <StackLayout>
        <StackLayout id="actionbar">
            <FlexboxLayout orientation="horizontal" alignItems="center">
                <Image tap="back" src="~/icons/arrow-left.png"/>
                <Label text="Przedmioty"/>
            </FlexboxLayout>
        </StackLayout>
        <StackLayout>                              
                <ListView items="{{ subjects }}"
                    separatorColor="silver" 
                    class="list-group" row="1" id="listView">
                    <ListView.itemTemplate >
                        <StackLayout class="list-group-item">
                            <DockLayout orientation="horizontal">
                                <Label text="{{ title }}" textWrap="true" class="title"/>
                                <Image tap="delete" id="expandImg" src="~/icons/cross.png" dock="right"/>
                            </DockLayout>
                            <ListView items="{{ employees }}" visibility="{{ isOpen ? 'visible' : collapse}}"
                                    separatorColor="silver" 
                                    row="2" height="120">
                                    <ListView.itemTemplate>
                                        <StackLayout class="list-group-item">
                                            <Label text="{{ 'Kto: ' + name + ' '+ surname }}" textWrap="true" class="title"/>
                                        </StackLayout>

                                    </ListView.itemTemplate>
                            </ListView>
                            <Image tap="delete" id="plusImg" index ="{{ id }}" src="~/icons/plus.png"/>
                        </StackLayout>
                    </ListView.itemTemplate>
                </ListView>
        </StackLayout>
    </StackLayout>
</Page> 